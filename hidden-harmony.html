<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hidden Harmony - Anonymous Dating App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <style>
        .gradient-bg {
            background: linear-gradient(90deg, #4F46E5 0%, #7C3AED 100%);
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="gradient-bg text-white py-12">
        <div class="container mx-auto px-4">
            <nav class="mb-8">
                <a href="index.html" class="text-white hover:text-gray-200">‚Üê Back to Portfolio</a>
            </nav>
            <h1 class="text-4xl font-bold mb-4">Hidden Harmony</h1>
            <p class="text-xl">An Innovative Anonymous Dating App</p>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Project Overview</h2>
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <p class="text-gray-700 mb-4">
                    Led frontend development for an innovative anonymous dating app using Android (Java). 
                    Implemented interest-based matching, real-time notifications, and profile management with a focus on 
                    user privacy and seamless experience.
                </p>
                
                <h3 class="text-xl font-semibold mb-3">Key Contributions</h3>
                <ul class="list-disc list-inside mb-4 text-gray-700">
                    <li>Built interest-based matching algorithm and UI</li>
                    <li>Developed background notification service</li>
                    <li>Created comprehensive profile management</li>
                    <li>Implemented matching interface with swipe functionality</li>
                    <li>Integrated WebSocket for real-time match notifications</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">Technical Stack</h3>
                <ul class="list-disc list-inside mb-4 text-gray-700">
                    <li>Android SDK with Java</li>
                    <li>WebSocket for real-time notifications</li>
                    <li>Android Service for background processing</li>
                    <li>Custom UI components</li>
                    <li>Efficient data management patterns</li>
                </ul>
            </div>
        </section>

        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Code Samples</h2>
            
            <!-- Real-time Notifications -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-3">Real-time Notification Service</h3>
                <p class="text-gray-700 mb-4">
                    A background service that manages real-time notifications using WebSocket connections.
                    Handles Android notification channels and permission management.
                </p>
                <pre><code class="language-java">
public class NotificationService extends Service implements WebSocketListener {
    private int notificationId = 0;
    private int userId = -1;

    @Override
    public void onCreate() {
        super.onCreate();
        Profile userProfile = UserProfileManager.getInstance().getUserProfile();
        if (userProfile != null) {
            userId = userProfile.getId();
            
            // Create notification channel for Android O and above
            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
                NotificationChannel channel = new NotificationChannel(
                    "NotificationChannel", 
                    "channel", 
                    NotificationManager.IMPORTANCE_DEFAULT
                );
                NotificationManager manager = getSystemService(NotificationManager.class);
                manager.createNotificationChannel(channel);
            }

            // Connect to WebSocket for real-time notifications
            WebSocketManager.getInstance().connectWebSocket(
                "ws://coms-309-054.class.las.iastate.edu:8080/notifications/" + userId
            );
            WebSocketManager.getInstance().setWebSocketListener(this);
        }
    }

    @Override
    public void onWebSocketMessage(String message) {
        NotificationCompat.Builder builder = new NotificationCompat.Builder(
            NotificationService.this, 
            "NotificationChannel"
        );
        builder.setContentTitle("Hidden Harmony");
        builder.setContentText(message);
        builder.setSmallIcon(R.drawable.ic_launcher_background);
        builder.setAutoCancel(true);

        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(
            NotificationService.this
        );
        
        if (hasNotificationPermission()) {
            managerCompat.notify(notificationId++, builder.build());
        }
    }
}
                </code></pre>
            </div>

            <!-- Profile Management -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-3">Profile Management System</h3>
                <p class="text-gray-700 mb-4">
                    Manages user profiles and implements interest-based matching algorithm.
                    Handles asynchronous profile loading and updates.
                </p>
                <pre><code class="language-java">
public class Profile {
    private int id;
    private String name;
    private String bio;
    private ArrayList<String> interests;
    private ArrayList<Profile> potentialMatches;

    public void updatePotentialMatches(Context context, UpdateMatchesCallback callback) {
        String apiUrl = "http://coms-309-054.class.las.iastate.edu:8080/api/matches/potential-matches/" + this.id;
        potentialMatches.clear();
        
        HTTPHelper httpHelper = new HTTPHelper(context, apiUrl);
        httpHelper.getArrayOfInts(apiUrl, new HTTPHelper.VolleyArrayCallback() {
            @Override
            public void onSuccess(JSONArray response) {
                // Process potential matches based on interests
                for (int i = 0; i < response.length(); i++) {
                    try {
                        int profileId = response.getInt(i);
                        Profile profile = new Profile(profileId, context, 
                            profile -> {
                                potentialMatches.add(profile);
                                if (potentialMatches.size() == response.length()) {
                                    callback.onMatchesUpdated(potentialMatches);
                                }
                            });
                    } catch (JSONException e) {
                        e.printStackTrace();
                    }
                }
            }
        });
    }
}
                </code></pre>
            </div>

            <!-- WebSocket Manager -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold mb-3">WebSocket Communication</h3>
                <p class="text-gray-700 mb-4">
                    Manages real-time communication using WebSocket protocol.
                    Implements singleton pattern for centralized WebSocket management.
                </p>
                <pre><code class="language-java">
public class WebSocketManager {
    private static WebSocketManager instance;
    private MyWebSocketClient webSocketClient;
    private WebSocketListener webSocketListener;

    public static synchronized WebSocketManager getInstance() {
        if (instance == null) {
            instance = new WebSocketManager();
        }
        return instance;
    }

    public void connectWebSocket(String serverUrl) {
        try {
            URI serverUri = URI.create(serverUrl);
            webSocketClient = new MyWebSocketClient(serverUri);
            webSocketClient.connect();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    private class MyWebSocketClient extends WebSocketClient {
        @Override
        public void onMessage(String message) {
            if (webSocketListener != null) {
                webSocketListener.onWebSocketMessage(message);
            }
        }

        @Override
        public void onClose(int code, String reason, boolean remote) {
            if (webSocketListener != null) {
                webSocketListener.onWebSocketClose(code, reason, remote);
            }
        }
    }
}
                </code></pre>
            </div>
        </section>

        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Development Practices</h2>
            <div class="bg-white rounded-lg shadow-lg p-6">
                <ul class="list-disc list-inside text-gray-700">
                    <li>Agile methodology with GitLab CI/CD</li>
                    <li>Code review process</li>
                    <li>Comprehensive documentation</li>
                    <li>Unit and integration testing</li>
                    <li>Security best practices</li>
                </ul>
            </div>
        </section>
    </main>

    <footer class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4">
            <p class="text-center">
                Built with modern web technologies by Ryan Sorensen
            </p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-java.min.js"></script>
</body>
</html> 