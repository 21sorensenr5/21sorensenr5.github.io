<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProsOutdoors - Technical Showcase</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(120deg, #1a365d 0%, #2d3748 100%);
        }
    </style>
</head>
<body class="bg-gray-100">
    <nav class="gradient-bg text-white p-6">
        <div class="container mx-auto">
            <h1 class="text-3xl font-bold">ProsOutdoors</h1>
            <p class="text-gray-300">Full-Stack Video Sharing Platform</p>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8">
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Project Overview</h2>
            <div class="bg-white rounded-lg shadow-lg p-6">
                <p class="text-gray-700">
                    A modern video sharing platform built for outdoor sports enthusiasts, featuring secure authentication,
                    cloud storage integration, and real-time interactions.
                </p>
            </div>
        </section>

        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Technical Stack</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-3">Frontend</h3>
                    <ul class="list-disc list-inside text-gray-700">
                        <li>React with TypeScript</li>
                        <li>Material-UI Components</li>
                        <li>Context API</li>
                        <li>Custom Hooks</li>
                    </ul>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-3">Backend</h3>
                    <ul class="list-disc list-inside text-gray-700">
                        <li>Node.js & Express</li>
                        <li>MongoDB</li>
                        <li>JWT Authentication</li>
                        <li>Cloud Storage Integration</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Key Features</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-3">Authentication</h3>
                    <p class="text-gray-700">Secure JWT-based authentication with token rotation and password hashing.</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-3">Video Processing</h3>
                    <p class="text-gray-700">Automatic thumbnail generation, optimized streaming, and progress tracking.</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-3">User Profiles</h3>
                    <p class="text-gray-700">Customizable profiles with following system and activity tracking.</p>
                </div>
            </div>
        </section>

        <!-- Hidden Harmony Project -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Hidden Harmony - Anonymous Dating App</h2>
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-3">Frontend Development Role</h3>
                <p class="text-gray-700 mb-4">
                    Led frontend development for an innovative anonymous dating app using Android (Java). 
                    Implemented interest-based matching, real-time notifications, and profile management with a focus on 
                    user privacy and seamless experience.
                </p>
                
                <h4 class="text-lg font-semibold mb-2">Key Contributions</h4>
                <ul class="list-disc list-inside mb-4 text-gray-700">
                    <li>Built interest-based matching algorithm and UI</li>
                    <li>Developed background notification service</li>
                    <li>Created comprehensive profile management</li>
                    <li>Implemented matching interface with swipe functionality</li>
                    <li>Integrated WebSocket for real-time match notifications</li>
                </ul>

                <h4 class="text-lg font-semibold mb-2">Technical Implementation</h4>
                <ul class="list-disc list-inside mb-4 text-gray-700">
                    <li>Android SDK with Java</li>
                    <li>WebSocket for real-time notifications</li>
                    <li>Android Service for background processing</li>
                    <li>Custom UI components</li>
                    <li>Efficient data management patterns</li>
                </ul>
            </div>

            <!-- Hidden Harmony Code Samples -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-3">Code Samples - Hidden Harmony</h3>
                <pre><code class="language-java">
// Real-time Notification Service
public class NotificationService extends Service implements WebSocketListener {
    private int notificationId = 0;
    private int userId = -1;

    @Override
    public void onCreate() {
        super.onCreate();
        Profile userProfile = UserProfileManager.getInstance().getUserProfile();
        if (userProfile != null) {
            userId = userProfile.getId();
            
            // Create notification channel for Android O and above
            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
                NotificationChannel channel = new NotificationChannel(
                    "NotificationChannel", 
                    "channel", 
                    NotificationManager.IMPORTANCE_DEFAULT
                );
                NotificationManager manager = getSystemService(NotificationManager.class);
                manager.createNotificationChannel(channel);
            }

            // Connect to WebSocket for real-time notifications
            WebSocketManager.getInstance().connectWebSocket(
                "ws://coms-309-054.class.las.iastate.edu:8080/notifications/" + userId
            );
            WebSocketManager.getInstance().setWebSocketListener(this);
        }
    }

    @Override
    public void onWebSocketMessage(String message) {
        NotificationCompat.Builder builder = new NotificationCompat.Builder(
            NotificationService.this, 
            "NotificationChannel"
        );
        builder.setContentTitle("Hidden Harmony");
        builder.setContentText(message);
        builder.setSmallIcon(R.drawable.ic_launcher_background);
        builder.setAutoCancel(true);

        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(
            NotificationService.this
        );
        
        if (hasNotificationPermission()) {
            managerCompat.notify(notificationId++, builder.build());
        }
    }
}

// Profile Management with Interest-Based Matching
public class Profile {
    private int id;
    private String name;
    private String bio;
    private ArrayList<String> interests;
    private ArrayList<Profile> potentialMatches;

    public void updatePotentialMatches(Context context, UpdateMatchesCallback callback) {
        String apiUrl = "http://coms-309-054.class.las.iastate.edu:8080/api/matches/potential-matches/" + this.id;
        potentialMatches.clear();
        
        HTTPHelper httpHelper = new HTTPHelper(context, apiUrl);
        httpHelper.getArrayOfInts(apiUrl, new HTTPHelper.VolleyArrayCallback() {
            @Override
            public void onSuccess(JSONArray response) {
                // Process potential matches based on interests
                for (int i = 0; i < response.length(); i++) {
                    try {
                        int profileId = response.getInt(i);
                        Profile profile = new Profile(profileId, context, 
                            profile -> {
                                potentialMatches.add(profile);
                                if (potentialMatches.size() == response.length()) {
                                    callback.onMatchesUpdated(potentialMatches);
                                }
                            });
                    } catch (JSONException e) {
                        e.printStackTrace();
                    }
                }
            }
        });
    }
}
                </code></pre>
            </div>
        </section>

        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Code Samples</h2>
            
            <!-- Authentication -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-3">Authentication System</h3>
                <pre><code class="language-typescript">
// JWT-based authentication middleware
const authMiddleware = async (req: Request, res: Response, next: NextFunction) => {
    try {
        const token = req.headers.authorization?.split(' ')[1];
        const decoded = jwt.verify(token, process.env.JWT_SECRET);
        req.user = await User.findById(decoded.userId);
        next();
    } catch (error) {
        res.status(401).json({ message: 'Authentication failed' });
    }
};
                </code></pre>
            </div>

            <!-- Video Processing -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-3">Video Processing</h3>
                <pre><code class="language-typescript">
// Video upload with automatic thumbnail generation
const uploadVideo = async (req: Request, res: Response) => {
    try {
        const result = await cloudinary.uploader.upload(req.file.path, {
            resource_type: 'video',
            folder: 'videos',
            eager: [{ 
                format: 'jpg',
                transformation: [
                    { width: 400, height: 300, crop: "fill" }
                ]
            }]
        });

        const video = new Video({
            title: req.body.title,
            url: result.secure_url,
            thumbnailUrl: result.eager[0].secure_url,
            user: req.user._id
        });

        await video.save();
        res.status(201).json(video);
    } catch (error) {
        res.status(500).json({ message: 'Upload failed' });
    }
};
                </code></pre>
            </div>

            <!-- React Components -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h3 class="text-xl font-semibold mb-3">React Components & Hooks</h3>
                <pre><code class="language-typescript">
// Custom hook for video upload with progress tracking
const useVideoUpload = () => {
    const [progress, setProgress] = useState(0);
    const [error, setError] = useState<string | null>(null);

    const uploadVideo = async (file: File, metadata: VideoMetadata) => {
        try {
            const formData = new FormData();
            formData.append('video', file);
            formData.append('metadata', JSON.stringify(metadata));

            const response = await axios.post('/api/videos/upload', formData, {
                onUploadProgress: (progressEvent) => {
                    const percentage = Math.round(
                        (progressEvent.loaded * 100) / progressEvent.total
                    );
                    setProgress(percentage);
                }
            });

            return response.data;
        } catch (err) {
            setError('Upload failed');
            throw err;
        }
    };

    return { uploadVideo, progress, error };
};

// Video player component with custom controls
const VideoPlayer: React.FC<VideoPlayerProps> = ({ video }) => {
    const [isPlaying, setIsPlaying] = useState(false);
    const videoRef = useRef<HTMLVideoElement>(null);

    const togglePlay = () => {
        if (videoRef.current) {
            if (isPlaying) {
                videoRef.current.pause();
            } else {
                videoRef.current.play();
            }
            setIsPlaying(!isPlaying);
        }
    };

    return (
        <div className="video-player">
            <video
                ref={videoRef}
                src={video.url}
                poster={video.thumbnailUrl}
                onEnded={() => setIsPlaying(false)}
            />
            <div className="controls">
                <Button onClick={togglePlay}>
                    {isPlaying ? <PauseIcon /> : <PlayIcon />}
                </Button>
                <VideoProgress video={videoRef} />
            </div>
        </div>
    );
};
                </code></pre>
            </div>

            <!-- Context API -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold mb-3">State Management with Context</h3>
                <pre><code class="language-typescript">
// Auth context for global user state management
interface AuthContextType {
    user: User | null;
    login: (email: string, password: string) => Promise<void>;
    logout: () => void;
}

const AuthContext = createContext<AuthContextType>(null!);

export const AuthProvider: React.FC = ({ children }) => {
    const [user, setUser] = useState<User | null>(null);

    const login = async (email: string, password: string) => {
        try {
            const response = await axios.post('/api/auth/login', {
                email,
                password
            });
            
            const { token, user } = response.data;
            localStorage.setItem('token', token);
            setUser(user);
        } catch (error) {
            throw new Error('Authentication failed');
        }
    };

    const logout = () => {
        localStorage.removeItem('token');
        setUser(null);
    };

    return (
        <AuthContext.Provider value={{ user, login, logout }}>
            {children}
        </AuthContext.Provider>
    );
};
                </code></pre>
            </div>
        </section>
    </main>

    <footer class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4">
            <p class="text-center">
                Built with modern web technologies by Ryan Sorensen
            </p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-typescript.min.js"></script>
</body>
</html> 